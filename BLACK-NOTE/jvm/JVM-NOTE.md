JVM-NOTE

**minor GC全过程**

实例对象存储到堆内存，首先是存储于新生代Eden中

一直到Eden内存占满时，触发一次Minro GC，此时将存活的对象紧密复制到新生代Survovior01区，然后将Eden全部清除

等到Eden以及Survovior01区也存满时，触发Minor GC，将上述区存活对象存储至Survovior02区

如果Eden以及Survovior02区存放的存活对象存储至Survovior01区

以此往复，直到新生代对象年龄达到15或者另有其他设置值时，将会移动至老年代

或者动态分配，例如对象1+对象2的占用内存大于Survovior01区的总内存的一半时，将会把Survovior01区大于对象1对象2的年龄的所有对象复制到老年代

*有几类特殊情况*

1. Eden区一次gc后存活下来的对象太多，一个Survovior放不下，此时应该将这些对象存放至老年代
2. 接1，如果老年代的内存空间也不能存放这些对象[每次MinorGC都会去检测老年代可用的内存空间能不能存放所有新生代对象]，就会触发一次Full GC，即老年代的GC
3. Full GC之后，又会触发一次Minor GC，此时有三种情况，minorGC之后，存活对象可存放至survovior区，那么直接存放
4. 如果不行，那么尝试存放至老年代
5. 如果老年代也存放不下，会触发一次Full GC，清除老年代，如果还放不下，就会产生OOM



